import{c as b}from"./index-cfb67873.js";import"./preload-helper-911a8840.js";import"./index-d85b3eb2.js";import"./index-600a7069.js";import"./index-3d261b09.js";import"./share-54688cda.js";import"./paths-396f020f.js";const r=48,e=32,w=Math.PI*2,c="#dddddd";function G(n,{width:H,height:M,features:E,pondTiles:k,mini:f},{color:s,highContrast:p}){if(!n)return;const h=p?"#161a25":"#312236";n.width=(H+1)*r,n.height=(M+2)*e,n.style.maxWidth=`min(100%, ${Math.round(n.width/2)}px)`,n.style.maxHeight=`${Math.round(n.height/2)}px`;const t=n.getContext("2d");t.fillStyle=h,t.fillRect(0,0,n.width,n.height);const y=new Path2D(b(k,r,e,r/2,e*1.5)),a=s?"#567de8":c;if(t.fillStyle=a,t.fill(y),t.lineWidth=e*.2,!s){t.save(),t.clip(y);const d=new Path2D(b(k,r,e,r/2,e*1.7));t.fillStyle=h,t.fill(d),t.strokeStyle=c,t.stroke(d),t.restore()}t.strokeStyle=a,t.stroke(y),t.lineCap="round",t.lineJoin="round";const P=e*.2,S=e*.5,T=p?"#64ba2e":"#15a850",L=s?T:c,m=p?"#da3f8b":"#e38f2f",D=s?m:c,J=s?m:h;for(const{type:d,x:W,y:x,xJitter:g,yJitter:u,size:C}of E)if(d==="tree"){const i=(.5+W+g+.5)*r,l=(1.5+x+u+.5)*e,o=(.85+C*.25)*e/2;t.lineWidth=S,t.strokeStyle=h,t.beginPath(),t.moveTo(i,l),t.lineTo(i,l-o),t.stroke(),t.arc(i,l-o*2,o+e*.15,0,w),t.fillStyle=h,t.fill(),t.strokeStyle=L,t.lineWidth=P,t.beginPath(),t.moveTo(i,l),t.lineTo(i,l-o),t.stroke(),t.beginPath(),t.arc(i,l-o*2,o-e*.1,0,w),t.stroke(),s&&(t.fillStyle=T,t.fill())}else{const i=(.5+W+g+(f?1:1.5))*r,l=(1.5+x+u+1)*e,o=((f?.8:1.35)+.2*C)*e,I=l-e/2-(f?.2:.5)*e;t.lineWidth=S,t.strokeStyle=h,t.beginPath(),t.moveTo(i-o,l),t.lineTo(i-o,I),t.arc(i,I,o,Math.PI,0),t.lineTo(i+o,l),t.ellipse(i,l,o,o/3,0,0,Math.PI),t.stroke(),t.lineWidth=P,t.strokeStyle=D,t.fillStyle=J,t.fill(),t.stroke()}}export{G as drawLandscapeToCanvas};
