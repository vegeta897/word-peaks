import{s as kt,e as w,a as B,t as P,c as S,b as D,m as Et,g as I,d as A,f as u,o as v,q as Y,r as K,i as y,h as c,p as F,j as G,n as st,u as ut,k as gt,v as Tt,H as at,w as lt,x as it,l as q}from"../chunks/oMnUEDVg.js";import{S as yt,i as wt}from"../chunks/C6Rt7ySJ.js";import{S as mt,l as ft,k as _t,m as ct,n as pt,o as Z,p as $,W as ot,q as St}from"../chunks/D29zCBM1.js";import{b as vt,g as Ot}from"../chunks/BrEbK--M.js";import{c as Dt}from"../chunks/D587UEIL.js";function rt(e){let t,s,o,i=e[4]("main.stats.import_info_1")+"",r,m,b=e[4]("main.stats.import_info_2")+"",h,d,p,E,O=e[4]("main.stats.import_info_3")+"",f,n,x,g,H,T,C=e[4]("main.stats.import")+"",N,L,R,z;function J(a,l){return a[0]?a[3]?Nt:xt:Pt}let k=J(e),_=k(e);return{c(){t=w("div"),s=w("p"),o=new at(!1),r=B(),m=w("p"),h=P(b),d=B(),p=w("p"),E=new at(!1),f=B(),n=w("label"),_.c(),x=B(),g=w("textarea"),H=B(),T=w("button"),N=P(C),this.h()},l(a){t=S(a,"DIV",{class:!0});var l=D(t);s=S(l,"P",{class:!0});var W=D(s);o=lt(W,!1),W.forEach(u),r=I(l),m=S(l,"P",{class:!0});var V=D(m);h=A(V,b),V.forEach(u),d=I(l),p=S(l,"P",{class:!0});var j=D(p);E=lt(j,!1),j.forEach(u),l.forEach(u),f=I(a),n=S(a,"LABEL",{for:!0,class:!0});var M=D(n);_.l(M),M.forEach(u),x=I(a),g=S(a,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),D(g).forEach(u),H=I(a),T=S(a,"BUTTON",{class:!0});var X=D(T);N=A(X,C),X.forEach(u),this.h()},h(){o.a=null,v(s,"class","svelte-18ehvcx"),v(m,"class","svelte-18ehvcx"),E.a=null,v(p,"class","svelte-18ehvcx"),v(t,"class","info svelte-18ehvcx"),v(n,"for","import_text"),v(n,"class","svelte-18ehvcx"),v(g,"id","import_text"),v(g,"name","import_text"),v(g,"rows","4"),v(g,"class","svelte-18ehvcx"),v(T,"class","import-button svelte-18ehvcx"),T.disabled=L=!e[3]},m(a,l){y(a,t,l),c(t,s),o.m(i,s),c(t,r),c(t,m),c(m,h),c(t,d),c(t,p),E.m(O,p),y(a,f,l),y(a,n,l),_.m(n,null),y(a,x,l),y(a,g,l),it(g,e[0]),y(a,H,l),y(a,T,l),c(T,N),R||(z=[F(g,"input",e[8]),F(T,"click",e[9])],R=!0)},p(a,l){l&16&&i!==(i=a[4]("main.stats.import_info_1")+"")&&o.p(i),l&16&&b!==(b=a[4]("main.stats.import_info_2")+"")&&G(h,b),l&16&&O!==(O=a[4]("main.stats.import_info_3")+"")&&E.p(O),k===(k=J(a))&&_?_.p(a,l):(_.d(1),_=k(a),_&&(_.c(),_.m(n,null))),l&1&&it(g,a[0]),l&16&&C!==(C=a[4]("main.stats.import")+"")&&G(N,C),l&8&&L!==(L=!a[3])&&(T.disabled=L)},d(a){a&&(u(t),u(f),u(n),u(x),u(g),u(H),u(T)),_.d(),R=!1,ut(z)}}}function xt(e){let t,s=e[4]("main.stats.invalid_stats")+"",o;return{c(){t=P("❌ "),o=P(s)},l(i){t=A(i,"❌ "),o=A(i,s)},m(i,r){y(i,t,r),y(i,o,r)},p(i,r){r&16&&s!==(s=i[4]("main.stats.invalid_stats")+"")&&G(o,s)},d(i){i&&(u(t),u(o))}}}function Nt(e){let t,s=e[4]("main.stats.ready_to_import")+"",o;return{c(){t=P("✅ "),o=P(s)},l(i){t=A(i,"✅ "),o=A(i,s)},m(i,r){y(i,t,r),y(i,o,r)},p(i,r){r&16&&s!==(s=i[4]("main.stats.ready_to_import")+"")&&G(o,s)},d(i){i&&(u(t),u(o))}}}function Pt(e){let t=e[4]("main.stats.paste_your_stats")+"",s;return{c(){s=P(t)},l(o){s=A(o,t)},m(o,i){y(o,s,i)},p(o,i){i&16&&t!==(t=o[4]("main.stats.paste_your_stats")+"")&&G(s,t)},d(o){o&&u(s)}}}function nt(e){let t,s=e[4]("main.stats.export_instructions")+"",o,i,r,m,b,h,d=e[4]("main.stats.copy")+"",p,E,O;return{c(){t=w("label"),o=P(s),i=P(":"),r=B(),m=w("textarea"),b=B(),h=w("button"),p=P(d),this.h()},l(f){t=S(f,"LABEL",{for:!0,class:!0});var n=D(t);o=A(n,s),i=A(n,":"),n.forEach(u),r=I(f),m=S(f,"TEXTAREA",{id:!0,name:!0,rows:!0,class:!0}),D(m).forEach(u),b=I(f),h=S(f,"BUTTON",{class:!0});var x=D(h);p=A(x,d),x.forEach(u),this.h()},h(){v(t,"for","export_text"),v(t,"class","svelte-18ehvcx"),v(m,"id","export_text"),v(m,"name","export_text"),v(m,"rows","4"),m.value=e[2],m.readOnly=!0,v(m,"class","svelte-18ehvcx"),v(h,"class","svelte-18ehvcx"),Y(h,"align-self","flex-start")},m(f,n){y(f,t,n),c(t,o),c(t,i),y(f,r,n),y(f,m,n),y(f,b,n),y(f,h,n),c(h,p),E||(O=F(h,"click",e[5]),E=!0)},p(f,n){n&16&&s!==(s=f[4]("main.stats.export_instructions")+"")&&G(o,s),n&4&&(m.value=f[2]),n&16&&d!==(d=f[4]("main.stats.copy")+"")&&G(p,d)},d(f){f&&(u(t),u(r),u(m),u(b),u(h)),E=!1,O()}}}function At(e){let t,s,o="Word Peaks",i,r,m=e[4]("main.stats.back_up_and_restore_your_stats")+"",b,h,d,p,E=e[4]("main.stats.import_stats")+"",O,f,n,x=e[4]("main.stats.export_stats")+"",g,H,T,C,N,L=e[4]("main.other.back")+"",R,z,J,k=e[1]==="import"&&rt(e),_=e[1]==="export"&&nt(e);return{c(){t=w("section"),s=w("h1"),s.textContent=o,i=B(),r=w("p"),b=P(m),h=B(),d=w("div"),p=w("button"),O=P(E),f=B(),n=w("button"),g=P(x),H=B(),k&&k.c(),T=B(),_&&_.c(),C=B(),N=w("a"),R=P(L),this.h()},l(a){t=S(a,"SECTION",{class:!0});var l=D(t);s=S(l,"H1",{"data-svelte-h":!0}),Et(s)!=="svelte-nnh0sw"&&(s.textContent=o),i=I(l),r=S(l,"P",{class:!0});var W=D(r);b=A(W,m),W.forEach(u),h=I(l),d=S(l,"DIV",{class:!0});var V=D(d);p=S(V,"BUTTON",{class:!0});var j=D(p);O=A(j,E),j.forEach(u),f=I(V),n=S(V,"BUTTON",{class:!0});var M=D(n);g=A(M,x),M.forEach(u),V.forEach(u),H=I(l),k&&k.l(l),T=I(l),_&&_.l(l),C=I(l),N=S(l,"A",{href:!0});var X=D(N);R=A(X,L),X.forEach(u),l.forEach(u),this.h()},h(){v(r,"class","svelte-18ehvcx"),Y(r,"margin-bottom","1.5rem"),v(p,"class","svelte-18ehvcx"),K(p,"active",e[1]==="import"),v(n,"class","svelte-18ehvcx"),K(n,"active",e[1]==="export"),v(d,"class","mode-buttons svelte-18ehvcx"),v(N,"href",vt+"/"),Y(N,"margin-top","3rem"),Y(N,"text-align","center"),v(t,"class","svelte-18ehvcx")},m(a,l){y(a,t,l),c(t,s),c(t,i),c(t,r),c(r,b),c(t,h),c(t,d),c(d,p),c(p,O),c(d,f),c(d,n),c(n,g),c(t,H),k&&k.m(t,null),c(t,T),_&&_.m(t,null),c(t,C),c(t,N),c(N,R),z||(J=[F(p,"click",e[6]),F(n,"click",e[7])],z=!0)},p(a,[l]){l&16&&m!==(m=a[4]("main.stats.back_up_and_restore_your_stats")+"")&&G(b,m),l&16&&E!==(E=a[4]("main.stats.import_stats")+"")&&G(O,E),l&2&&K(p,"active",a[1]==="import"),l&16&&x!==(x=a[4]("main.stats.export_stats")+"")&&G(g,x),l&2&&K(n,"active",a[1]==="export"),a[1]==="import"?k?k.p(a,l):(k=rt(a),k.c(),k.m(t,T)):k&&(k.d(1),k=null),a[1]==="export"?_?_.p(a,l):(_=nt(a),_.c(),_.m(t,C)):_&&(_.d(1),_=null),l&16&&L!==(L=a[4]("main.other.back")+"")&&G(R,L)},i:st,o:st,d(a){a&&u(t),k&&k.d(),_&&_.d(),z=!1,ut(J)}}}const tt={theme:{"--toastBackground":"var(--cta-color)"}},U=e=>typeof e=="number"&&e>=0,Q=e=>e instanceof Array&&e.every(U);function Ct(e){if(!e)return!1;try{const[t,s,o,i,r]=JSON.parse(e);if(t!==mt)throw"bad-version";if(!U(s))throw"invalid-last-daily";const[m,b,h,d,p]=o;if(!U(m)||!U(b)||!U(h)||!U(d)||!Q(p))throw"invalid-stats";const[E,O,f,n]=i;if(!U(E)||!Q(O)||!Q(f)||!U(n))throw"invalid-time-stats";if(r){const[x,g,H,T,C,N,L,R]=r;if(x!=="daily"||!U(g)||typeof H!="boolean"||typeof T!="string"||T.length!==ot||!(C instanceof Array)||C.some(z=>typeof z!="string"||z.length!==ot)||!Q(N)||L!==null||typeof R!="boolean")throw"invalid-daily-detail"}}catch(t){return console.warn(t),!1}return!0}const ht=["currentStreak","bestStreak","totalGames","wonGames","distribution"],Bt=e=>ht.map(t=>e[t]),dt=["gameCount","guessTotals","guessCounts","fastestGame"],It=e=>dt.map(t=>e[t]),bt=["mode","dayNumber","hardMode","answer","guesses","guessTimes","hash","fastest"],Lt=e=>e===null?null:bt.map(t=>e[t]),et=(e,t)=>Object.fromEntries(e.map((s,o)=>[t[o],s]));function Gt(){return JSON.stringify([mt,q(ft),Bt(q(_t)),It(q(ct)),Lt(q(pt))])}function Ht(e){const[t,s,o,i,r]=JSON.parse(e);ft.set(s),_t.set(et(o,ht)),ct.set(et(i,dt)),r!==null&&pt.set(et(r,bt)),St("statsImported"),$.push(q(Z)("main.messages.stats_imported"),tt),Ot(`${vt}/`)}function Rt(e,t,s){let o,i;gt(e,Z,f=>s(4,i=f));let r=null,m,b="";function h(){$.push(q(Z)("main.messages.stats_copied"),tt),Dt(b).then(()=>$.push("Stats copied!",tt),()=>$.push(q(Z)("main.messages.could_not_do"),tt))}Tt(()=>s(2,b=Gt()));const d=()=>s(1,r=r==="import"?null:"import"),p=()=>s(1,r=r==="export"?null:"export");function E(){m=this.value,s(0,m)}const O=()=>Ht(m);return e.$$.update=()=>{e.$$.dirty&1&&s(3,o=Ct(m))},[m,r,b,o,i,h,d,p,E,O]}class Wt extends yt{constructor(t){super(),wt(this,t,Rt,At,kt,{})}}export{Wt as component};
