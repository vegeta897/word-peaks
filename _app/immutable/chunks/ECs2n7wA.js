import{c as m}from"./eKK5tHac.js";const r=48,e=32,w=Math.PI*2,c="#dddddd";function X(n,{width:H,height:M,features:E,pondTiles:a,mini:f},{color:s,highContrast:y}){if(!n)return;const h=y?"#161a25":"#312236";n.width=(H+1)*r,n.height=(M+2)*e,n.style.maxWidth=`min(100%, ${Math.round(n.width/2)}px)`,n.style.maxHeight=`${Math.round(n.height/2)}px`;const t=n.getContext("2d");t.fillStyle=h,t.fillRect(0,0,n.width,n.height);const k=new Path2D(m(a,r,e,r/2,e*1.5)),P=s?"#567de8":c;if(t.fillStyle=P,t.fill(k),t.lineWidth=e*.2,!s){t.save(),t.clip(k);const d=new Path2D(m(a,r,e,r/2,e*1.7));t.fillStyle=h,t.fill(d),t.strokeStyle=c,t.stroke(d),t.restore()}t.strokeStyle=P,t.stroke(k),t.lineCap="round",t.lineJoin="round";const S=e*.2,T=e*.5,p=y?"#64ba2e":"#15a850",L=s?p:c,W=y?"#da3f8b":"#e38f2f",D=s?W:c,J=s?W:h;for(const{type:d,x,y:g,xJitter:u,yJitter:C,size:I}of E)if(d==="tree"){const l=(.5+x+u+.5)*r,i=(1.5+g+C+.5)*e,o=(.85+I*.25)*e/2;t.lineWidth=T,t.strokeStyle=h,t.beginPath(),t.moveTo(l,i),t.lineTo(l,i-o),t.stroke(),t.arc(l,i-o*2,o+e*.15,0,w),t.fillStyle=h,t.fill(),t.strokeStyle=L,t.lineWidth=S,t.beginPath(),t.moveTo(l,i),t.lineTo(l,i-o),t.stroke(),t.beginPath(),t.arc(l,i-o*2,o-e*.1,0,w),t.stroke(),s&&(t.fillStyle=p,t.fill())}else{const l=(.5+x+u+(f?1:1.5))*r,i=(1.5+g+C+1)*e,o=((f?.8:1.35)+.2*I)*e,b=i-e/2-(f?.2:.5)*e;t.lineWidth=T,t.strokeStyle=h,t.beginPath(),t.moveTo(l-o,i),t.lineTo(l-o,b),t.arc(l,b,o,Math.PI,0),t.lineTo(l+o,i),t.ellipse(l,i,o,o/3,0,0,Math.PI),t.stroke(),t.lineWidth=S,t.strokeStyle=D,t.fillStyle=J,t.fill(),t.stroke()}}export{X as drawLandscapeToCanvas};
