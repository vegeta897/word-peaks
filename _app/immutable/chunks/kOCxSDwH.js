import{t as se,b as he,S as ce,i as fe}from"./Ce3wb7rx.js";import{f as $e,A as ue,h as de,b as _e,r as ge,p as pe,W as me}from"./kidM4JZn.js";import{u as we,s as Se,e as ye,G as C,A as V,c as be,b as A,I as D,f as v,o as $,J as ke,i as z,h as q,K as Pe,n as Y,L as K,k as Z,y as ve,l as Me,q as N,z as B}from"./xJMVqMs0.js";function j(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ce(e,t){e.d(1),t.delete(e.key)}function Ee(e,t){he(e,1,1,()=>{t.delete(e.key)})}function De(e,t){e.f(),Ee(e,t)}function ze(e,t,i,a,h,S,r,f,m,u,s,n){let l=e.length,_=S.length,o=l;const g={};for(;o--;)g[e[o].key]=o;const p=[],b=new Map,w=new Map,d=[];for(o=_;o--;){const k=n(h,S,o),T=i(k);let R=r.get(T);R?d.push(()=>R.p(k,t)):(R=u(T,k),R.c()),b.set(T,p[o]=R),T in g&&w.set(T,Math.abs(o-g[T]))}const E=new Set,H=new Set;function c(k){se(k,1),k.m(f,s),r.set(k.key,k),s=k.first,_--}for(;l&&_;){const k=p[_-1],T=e[l-1],R=k.key,L=T.key;k===T?(s=k.first,l--,_--):b.has(L)?!r.has(R)||E.has(R)?c(k):H.has(L)?l--:w.get(R)>w.get(L)?(H.add(R),c(k)):(E.add(L),l--):(m(T,r),l--)}for(;l--;){const k=e[l];b.has(k.key)||m(k,r)}for(;_;)c(p[_-1]);return we(d),p}function U(e,t,i){const a=e.slice();a[25]=t[i],a[27]=t,a[28]=i;const h=a[7][a[28]]||[];return a[26]=h,a}function x(e,t,i){const a=e.slice();return a[29]=t[i][0],a[30]=t[i][1],a[31]=t[i][2],a[32]=t[i][3],a}function ee(e,t,i){const a=e.slice();return a[35]=t[i][0],a[36]=t[i][1],a[37]=t[i][2],a[39]=i,a}function te(e){let t,i,a,h,S,r,f,m,u,s=`${e[36]}px
					${e[37]}px`;return{c(){t=C("circle"),r=C("circle"),this.h()},l(n){t=D(n,"circle",{class:!0,fill:!0,cx:!0,cy:!0,r:!0}),A(t).forEach(v),r=D(n,"circle",{class:!0,fill:!0,cx:!0,cy:!0,r:!0}),A(r).forEach(v),this.h()},h(){$(t,"class","worm-hole svelte-162a370"),$(t,"fill",i=Q(e[11][e[39]][e[35]].polarity,e[12])),$(t,"cx",a=e[36]),$(t,"cy",h=e[37]),$(t,"r",S=e[9]/2*1.2),$(r,"class","worm-hole-pop svelte-162a370"),$(r,"fill","#fff"),$(r,"cx",f=e[36]),$(r,"cy",m=e[37]),$(r,"r",u=e[9]/2*1.2),N(r,"transform-origin",s)},m(n,l){z(n,t,l),z(n,r,l)},p(n,l){l[0]&6160&&i!==(i=Q(n[11][n[39]][n[35]].polarity,n[12]))&&$(t,"fill",i),l[0]&16&&a!==(a=n[36])&&$(t,"cx",a),l[0]&16&&h!==(h=n[37])&&$(t,"cy",h),l[0]&512&&S!==(S=n[9]/2*1.2)&&$(t,"r",S),l[0]&16&&f!==(f=n[36])&&$(r,"cx",f),l[0]&16&&m!==(m=n[37])&&$(r,"cy",m),l[0]&512&&u!==(u=n[9]/2*1.2)&&$(r,"r",u),l[0]&16&&s!==(s=`${n[36]}px
					${n[37]}px`)&&N(r,"transform-origin",s)},d(n){n&&(v(t),v(r))}}}function le(e){let t,i=e[6]>e[39]&&te(e);return{c(){i&&i.c(),t=V()},l(a){i&&i.l(a),t=V()},m(a,h){i&&i.m(a,h),z(a,t,h)},p(a,h){a[6]>a[39]?i?i.p(a,h):(i=te(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(a){a&&v(t),i&&i.d(a)}}}function ie(e){let t,i,a,h,S;return{c(){t=C("rect"),this.h()},l(r){t=D(r,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0}),A(t).forEach(v),this.h()},h(){$(t,"x",i=e[29]),$(t,"y",a=e[30]),$(t,"width",h=e[31]),$(t,"height",S=e[32]),$(t,"rx",e[10]),$(t,"ry",e[10])},m(r,f){z(r,t,f)},p(r,f){f[0]&128&&i!==(i=r[29])&&$(t,"x",i),f[0]&128&&a!==(a=r[30])&&$(t,"y",a),f[0]&128&&h!==(h=r[31])&&$(t,"width",h),f[0]&128&&S!==(S=r[32])&&$(t,"height",S),f[0]&1024&&$(t,"rx",r[10]),f[0]&1024&&$(t,"ry",r[10])},d(r){r&&v(t)}}}function ne(e){let t,i,a,h,S,r=e[28],f=`${e[8]} 2000`,m=j(e[26]),u=[];for(let l=0;l<m.length;l+=1)u[l]=ie(x(e,m,l));const s=()=>e[14](h,r),n=()=>e[14](null,r);return{c(){t=C("clipPath");for(let l=0;l<u.length;l+=1)u[l].c();i=C("g"),a=C("rect"),h=C("path"),this.h()},l(l){t=D(l,"clipPath",{id:!0});var _=A(t);for(let g=0;g<u.length;g+=1)u[g].l(_);_.forEach(v),i=D(l,"g",{"clip-path":!0});var o=A(i);a=D(o,"rect",{width:!0,height:!0,fill:!0}),A(a).forEach(v),h=D(o,"path",{fill:!0,"stroke-width":!0,"stroke-linecap":!0,stroke:!0,d:!0}),A(h).forEach(v),o.forEach(v),this.h()},h(){$(t,"id","worm_clip_path_"+e[28]),$(a,"width",e[0]),$(a,"height",e[2]),$(a,"fill","none"),$(h,"fill","none"),$(h,"stroke-width",e[9]),$(h,"stroke-linecap","round"),$(h,"stroke","var(--accent-color)"),$(h,"d",S=e[25]),N(h,"stroke-dasharray",f),N(h,"stroke-dashoffset",e[8]),$(i,"clip-path","url(#worm_clip_path_"+e[28]+")")},m(l,_){z(l,t,_);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(t,null);z(l,i,_),q(i,a),q(i,h),s()},p(l,_){if(e=l,_[0]&1152){m=j(e[26]);let o;for(o=0;o<m.length;o+=1){const g=x(e,m,o);u[o]?u[o].p(g,_):(u[o]=ie(g),u[o].c(),u[o].m(t,null))}for(;o<u.length;o+=1)u[o].d(1);u.length=m.length}_[0]&1&&$(a,"width",e[0]),_[0]&4&&$(a,"height",e[2]),_[0]&512&&$(h,"stroke-width",e[9]),_[0]&32&&S!==(S=e[25])&&$(h,"d",S),r!==e[28]&&(n(),r=e[28],s()),_[0]&256&&f!==(f=`${e[8]} 2000`)&&N(h,"stroke-dasharray",f),_[0]&256&&N(h,"stroke-dashoffset",e[8])},d(l){l&&(v(t),v(i)),K(u,l),n()}}}function Te(e){let t,i,a,h,S,r=j(e[4]),f=[];for(let s=0;s<r.length;s+=1)f[s]=le(ee(e,r,s));let m=j(e[5]),u=[];for(let s=0;s<m.length;s+=1)u[s]=ne(U(e,m,s));return{c(){t=ye("div"),i=C("svg");for(let s=0;s<f.length;s+=1)f[s].c();a=V();for(let s=0;s<u.length;s+=1)u[s].c();this.h()},l(s){t=be(s,"DIV",{class:!0});var n=A(t);i=D(n,"svg",{xmlns:!0,viewBox:!0,width:!0,height:!0});var l=A(i);for(let _=0;_<f.length;_+=1)f[_].l(l);a=V();for(let _=0;_<u.length;_+=1)u[_].l(l);l.forEach(v),n.forEach(v),this.h()},h(){$(i,"xmlns","http://www.w3.org/2000/svg"),$(i,"viewBox",h="0 0 "+e[0]+" "+e[2]),$(i,"width","100%"),$(i,"height","100%"),$(t,"class","april-fools-overlay svelte-162a370"),ke(()=>e[16].call(t))},m(s,n){z(s,t,n),q(t,i);for(let l=0;l<f.length;l+=1)f[l]&&f[l].m(i,null);q(i,a);for(let l=0;l<u.length;l+=1)u[l]&&u[l].m(i,null);e[15](t),S=Pe(t,e[16].bind(t))},p(s,n){if(n[0]&6736){r=j(s[4]);let l;for(l=0;l<r.length;l+=1){const _=ee(s,r,l);f[l]?f[l].p(_,n):(f[l]=le(_),f[l].c(),f[l].m(i,a))}for(;l<f.length;l+=1)f[l].d(1);f.length=r.length}if(n[0]&1965){m=j(s[5]);let l;for(l=0;l<m.length;l+=1){const _=U(s,m,l);u[l]?u[l].p(_,n):(u[l]=ne(_),u[l].c(),u[l].m(i,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=m.length}n[0]&5&&h!==(h="0 0 "+s[0]+" "+s[2])&&$(i,"viewBox",h)},i:Y,o:Y,d(s){s&&v(t),K(f,s),K(u,s),e[15](null),S()}}}const J=[[4,15,55],[1,45,55],[2,30,60],[0,20,55],[3,40,55],[4,45,55]],Q=(e,t)=>({1:"#344dcb",0:t?"#3d941c":"#0d7e31",[-1]:t?"#ba275c":"#c5611d"})[e],F=2;function Re(e,t,i){let a,h,S,r,f;Z(e,$e,y=>i(11,r=y)),Z(e,ue,y=>i(12,f=y));let m=0,u=0,s,n=[],l=[],_=[],o=0,g=0,p,b;const w=y=>(p+b)*Math.floor(y)+F+y%1*p;function d(y,W,O=0,X=0){const G=p+b;return[w(W),w(y),p+X*G-F*2,p+O*G-F*2]}ve(de.subscribe(async y=>{var W;y===o||Me(_e)||(o=y,!(y>5)&&(i(6,g=y-1),await ge(1500),i(6,g=y),(W=n[y])==null||W.animate([{strokeDashoffset:S},{strokeDashoffset:-k[y]}],{duration:k[y]*3.5,easing:"cubic-bezier(0.19, 0, 0.27, 0.16)"})))}));let E=[];function H(){i(7,E=[[],[d(0,3,1,1),d(2,2,1,1),d(3,1),d(4,2,1)],[d(1,1,1),d(2,2,0,1),d(2,3,2),d(3,2,1),d(3,4,1)],[d(2,2,1),d(3,0,1,1),d(4,2,0,1),d(4,4),d(5,0),d(5,1,0,1),d(5,3,0,1)],[d(3,0,1),d(4,1,1),d(4,2,1),d(4,3,1),d(5,2,0,3)],[d(4,3,1),d(5,0,0,4)]])}const c=(y,...W)=>W.reduce((O,X,G)=>O+w(X).toString()+y[G+1],y[0]),k=[0,1e3,1300,1400,1300,1700];function T(){i(4,l=[[4,w(4.3),w(.65)],[1,w(1.6),w(1.65)],[2,w(2.45),w(2.75)],[0,w(.35),w(3.7)],[3,w(3.55),w(4.7)]]),i(5,_=["",`M${l[0][1]},${l[0][2]}`+c`Q${3.7},${1.1} ${4.2},${1.6}`+c`T${4.1},${2.4}`+c`T${2.9},${2.4}`+c`T${1.8},${2.3}`+c`T${1.4},${3}`+c`T${1.9},${3.5}`+c`T${2.8},${3.6}`+c`T${3.3},${4}`+c`T${2.9},${4.6}`+c`T${2.4},${6}`,`M${l[1][1]},${l[1][2]}`+c`C${1.6},${2} ${1.9},${2.9} ${2.4},${2.75}`+c`S${3.1},${2.7} ${3.2},${2.9}`+c`S${3.2},${3.4} ${2.9},${3.5}`+c`S${2.6},${4.2} ${2.9},${4.3}`+c`S${3.3},${4.4} ${3.85},${4.35}`+c`S${4.6},${3.6} ${5},${3.7}`,`M${l[2][1]},${l[2][2]}`+c`C${2.4},${3.3} ${2.2},${3.8} ${1.4},${3.6}`+c`S${-1},${3.2} ${-1},${3.99}`+c`S${0},${4.7} ${.5},${4.7}`+c`S${1.4},${4.3} ${1.99},${4.3}`+c`S${3.1},${4.9} ${3.8},${4.5}`+c`S${6},${4.7} ${6},${5}`+c`S${4.8},${5.9} ${4.1},${5.7}`+c`S${2.8},${5.2} ${2},${5.2}`+c`S${.1},${5.5} ${.3},${6}`,`M${l[3][1]},${l[3][2]}`+c`C${.35},${4} ${.5},${4.75} ${1},${4.75}`+c`S${1.5},${5.25} ${2},${5.25}`+c`S${2.6},${4.7} ${3},${4.7}`+c`S${3.4},${5.45} ${2.99},${5.5}`+c`S${2.5},${6.5} ${3},${6.5}`+c`S${3.6},${5.65} ${4},${5.65}`+c`S${4.6},${5.8} ${4.6},${6.5}`,`M${l[4][1]},${l[4][2]}`+c`C${3.55},${5.2} ${3.5},${5.7} ${2.5},${5.7}`+c`S${-1},${5} ${-1},${5.5}`+c`S${.5},${7} ${.5},${7}`+c`S${.5},${5.65} ${.99},${5.65}`+c`S${1.5},${7} ${1.5},${7}`+c`S${1.5},${5.65} ${1.99},${5.65}`+c`S${2.5},${7} ${2.5},${7}`+c`S${2.5},${5.65} ${2.99},${5.65}`+c`S${3.5},${7} ${3.5},${7}`+c`S${3.5},${5.65} ${3.99},${5.65}`+c`S${4.5},${7} ${4.5},${7}`+c`S${4.5},${5.65} ${5},${5.65}`])}function R(y,W){B[y?"unshift":"push"](()=>{n[W]=y,i(3,n)})}function L(y){B[y?"unshift":"push"](()=>{s=y,i(1,s)})}function re(){m=this.clientWidth,u=this.clientHeight,i(0,m),i(2,u)}return e.$$.update=()=>{if(e.$$.dirty[0]&3&&m&&s){const y=window.getComputedStyle(s);i(13,p=parseInt(y.getPropertyValue("--tile-size"))),b=parseInt(y.getPropertyValue("--tile-margin")),H(),T()}e.$$.dirty[0]&8192&&i(10,a=(p-F*8)*.14),e.$$.dirty[0]&8192&&i(9,h=Math.round(p*.3)),e.$$.dirty[0]&1&&i(8,S=Math.round(m/3))},[m,s,u,n,l,_,g,E,S,h,a,r,f,p,R,L,re]}class He extends ce{constructor(t){super(),fe(this,t,Re,Te,Se,{},null,[-1,-1])}}function Le({gameWon:e,guesses:t,gameMode:i,hardMode:a,day:h}){const S=e?t.length:"X",r=i==="random"?"âˆž ":`#${h} `,f=`${S}/6${a?"*":""}`;return`${oe()?"Worm Peaks":"Word Peaks"} ${r}${f}`}function Ne({guesses:e,answer:t,guessTimes:i,hideArrows:a}){let h;return i&&(h=ae(i)),"  "+e.map((S,r)=>[...S].map((f,m)=>f===t[m]?"ðŸŸ©":a?"ðŸŸª":f>t[m]?"ðŸ”½":"ðŸ”¼").join("")+(i?" "+i[r].padStart(h):"")).join(`
  `)}function je(e){return pe.pop(),navigator.clipboard.writeText(e)}async function Ge(e){await navigator.clipboard.write([new ClipboardItem({[e.type]:e})])}async function Fe(e,t){const a={files:[new File([e],`word-peaks-${t}.png`,{type:e.type,lastModified:new Date().getTime()})]};navigator.share&&await navigator.share(a)}const M=48,P=88,I=12;function Ve(e,{highContrast:t,boardContent:i,guesses:a,caption:h,guessTimes:S,totalTime:r,showURL:f,hash:m,hideArrows:u,tileSharpness:s}){if(!e)return;e.width=M*2+(P+I)*me+(S?ae(S)*28+6:0),e.style.maxWidth=`min(100%, ${Math.round(e.width/2)}px)`,e.height=M*2+a.length*(P+I)+54+(f?46:0),e.style.maxHeight=`${Math.round(e.height/2)}px`;const n=e.getContext("2d");n.fillStyle=t?"#161a25":"#312236",n.fillRect(0,0,e.width,e.height);const l=(o,g,p,b,w,d)=>{d=d??w,n.beginPath(),Math.max(w,d)>b*.5?d>w?(n.ellipse(o+p/2,g+(b-d),p/2,d,0,Math.PI,0,!0),n.arcTo(o+p,g,o,g,w),n.arcTo(o,g,o,g+b,w)):(n.ellipse(o+p/2,g+w,p/2,w,0,Math.PI,0),n.arcTo(o+p,g+b,o,g+b,d),n.arcTo(o,g+b,o,g,d)):(n.moveTo(o+w,g),n.arcTo(o+p,g,o+p,g+b,w),n.arcTo(o+p,g+b,o,g+b,d),n.arcTo(o,g+b,o,g,d),n.arcTo(o,g,o+p,g,w)),n.closePath(),n.fill()};n.font="50px Arial",n.textAlign="right",n.textBaseline="middle";const _=P*(s<=1?.14+s*.36:.5+(s-1)*.36);if(i.forEach((o,g)=>{g>=a.length||(o.forEach((p,b)=>{let w=P*.14,d=P*.14;const E=p.distance===0;E||u?n.fillStyle=E?t?"#64ba2e":"#15a850":"#a640c7":p.distance>0?(n.fillStyle="#567de8",d=_):(n.fillStyle=t?"#da3f8b":"#e38f2f",w=_);const H=M+b*(P+I),c=M+g*(P+I);l(H,c,P,P,w,d)}),S&&(n.fillStyle="#a7a1a9",n.fillText(S[g],e.width-M+2,M+g*(P+I)+48)))}),n.textBaseline="alphabetic",n.fillStyle="#cccccc",r&&n.fillText(r,e.width-M+2,M+a.length*(P+I)+48),n.font="40px Arial",n.textAlign=r?"left":"center",n.fillText(h,r?M:e.width/2,M+a.length*(P+I)+48),f){n.font="40px Arial";let o="wordpeaks.com";m&&(o+="/#"+m),n.fillStyle="#a7a1a9",n.fillText(o,r?M:e.width/2,M+a.length*(P+I)+96)}if(oe()){const o=Math.round(P*.33/2);i.forEach((g,p)=>{p>=a.length||g.forEach((b,w)=>{if(w!==J[p][0])return;const d=M+w*(P+I)+J[p][1]/100*P+o,E=M+p*(P+I)+J[p][2]/100*P+o;n.fillStyle=Q(b.polarity,t),n.beginPath(),n.moveTo(d,E-o),n.arc(d,E,o,0,Math.PI*2),n.fill(),p===a.length-1&&(n.strokeStyle="#de49a2",n.lineWidth=o*1.6,n.lineCap="round",n.beginPath(),n.stroke(new Path2D(`M${d},${E} c36,30 -10,30 30,55`)))})})}}const ae=e=>e.reduce((t,i)=>t===null||t.length<i.length?i:t).length,oe=()=>{const e=new Date;return e.getMonth()===3&&e.getDate()===1};export{He as W,oe as a,Le as b,je as c,Ce as d,j as e,De as f,Q as g,Ne as h,Ve as i,Ge as j,Ee as o,Fe as s,ze as u,J as w};
